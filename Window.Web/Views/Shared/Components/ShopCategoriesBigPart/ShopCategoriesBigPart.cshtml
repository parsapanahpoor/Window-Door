@model Window.Domain.ViewModels.Site.Shop.Landing.ShopSiteBarDTO

<ul class="list hidden-sm">

    <li class="list-item category-list">
        <a href="#"><i class="fal fa-bars ml-1"></i>دسته بندی کالاها</a>
        <ul>

            @if (Model.ShopBrandsDTOs != null && Model.ShopBrandsDTOs.Any())
            {
                <li>
                    <a href="#">برندهای محصولات</a>

                    <ul class="row">

                        @foreach (var brandCategory in Model.ShopBrandsDTOs)
                        {
                            <li class="sublist--title">
                                <a>@brandCategory.BrandCategory.CatgeoryTitle</a>
                            </li>

                            @if (brandCategory.ShopBrands != null && brandCategory.ShopBrands.Any())
                            {
                                foreach (var brand in brandCategory.ShopBrands)
                                {
                                    <li class="sublist--item">
                                        <a asp-action="FilterProducts"
                                           asp-area=""
                                           asp-controller="ShopProduct"
                                           asp-route-BrandId="@brand.ShopBrandId">@brand.ShopBrandTitle</a>
                                    </li>
                                }
                            }

                        }

                    </ul>

                </li>
            }


            @if (Model.ShopCategoriesDTOs != null && Model.ShopCategoriesDTOs.Any())
            {
                foreach (var firstCategories in Model.ShopCategoriesDTOs.Where(p => !p.ParentId.HasValue).OrderBy(p => p.Priority))
                {
                    <li>
                        <a asp-action="FilterProducts"
                           asp-area=""
                           asp-controller="ShopProduct"
                           asp-route-shopCategories="@firstCategories.ShopCategoryId">@firstCategories.ShopCategoryTitle</a>

                        <ul class="row">

                            @if (Model.ShopCategoriesDTOs.Where(s => s.ParentId.HasValue && s.ParentId == firstCategories.ShopCategoryId) != null &&
                           Model.ShopCategoriesDTOs.Where(s => s.ParentId.HasValue && s.ParentId == firstCategories.ShopCategoryId).Any())
                            {
                                foreach (var secondCategories in Model.ShopCategoriesDTOs.Where(s => s.ParentId.HasValue && s.ParentId == firstCategories.ShopCategoryId).OrderBy(p => p.Priority))
                                {
                                    <li class="sublist--title">
                                        <a asp-action="FilterProducts"
                                           asp-area=""
                                           asp-controller="ShopProduct"
                                           asp-route-shopCategories="@secondCategories.ShopCategoryId">@secondCategories.ShopCategoryTitle</a>
                                    </li>

                                    @if (Model.ShopCategoriesDTOs.Where(t => t.ParentId.HasValue && t.ParentId == secondCategories.ShopCategoryId) != null &&
                                   Model.ShopCategoriesDTOs.Where(t => t.ParentId.HasValue && t.ParentId == secondCategories.ShopCategoryId).Any())
                                    {
                                        foreach (var thirdCategories in Model.ShopCategoriesDTOs.Where(t => t.ParentId.HasValue && t.ParentId == secondCategories.ShopCategoryId).OrderBy(p => p.Priority))
                                        {
                                            <li class="sublist--item">
                                                <a asp-action="FilterProducts"
                                                   asp-area=""
                                                   asp-controller="ShopProduct"
                                                   asp-route-shopCategories="@thirdCategories.ShopCategoryId">@thirdCategories.ShopCategoryTitle</a>
                                            </li>
                                        }

                                        <li class="sublist--item">
                                            <a asp-action="FilterProducts"
                                               asp-area=""
                                               asp-controller="ShopProduct"
                                               asp-route-ShopCategoryParentId="@secondCategories.ShopCategoryId">
                                                سایر @secondCategories.ShopCategoryTitle ...
                                            </a>
                                        </li>
                                    }

                                }

                            }

                        </ul>

                    </li>

                }
            }

        </ul>
    </li>


    <li class="list-item list-item-has-children mega-menu mega-menu-col-3">
        <a class="nav-link" href="#">دسته بندی اول</a>
        <ul class="sub-menu nav">

            <li class="list-item list-item-has-children" style="width: 100% !important;">
                <a class="nav-link" href="#">دسته بندی دوم</a>
                <ul class="sub-menu nav">

                    <li class="list-item">
                        <a class="nav-link" href="#">دسته بندی سوم</a>
                    </li>

                    <li class="list-item">
                        <a class="nav-link" href="#">دسته بندی سوم</a>
                    </li>

                </ul>
            </li>


        </ul>
    </li>

</ul>
